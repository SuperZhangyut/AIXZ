
income.all <- read.csv("kaggle_income.csv")
dim(income.all)
head(income.all)

hist(income.all$Median)

income <- income.all$Median[ (income.all$Median >0 ) &( income.all$Median < 300000)  ]




## Plot the density function and the likelihood function of N(\theta, 1)
##              theta=1
##              X=1
par(mfrow=c(1,2))
x <- c(1:1000)/100
postscript( file="./figure/density.eps",horizontal=FALSE)
plot(x, dexp( x, 1), 'l', col='red', xlab="x", ylab="density", main="pdf", cex.lab=1.5, cex.main=2)
dev.off()

lambda.all <- c(1:1000)/100
## postscript( file="./figure/likelihood.eps",horizontal=FALSE)
plot(lambda.all, dexp( 1, lambda.all), 'l', col='red', xlab="lambda", ylab="likelihood", main="Likelihood", cex.lab=1.5, cex.main=2)
## dev.off()


Y <- log( income )
mu.hat <- mean(Y)
sigma.hat <- sqrt( var( Y ) )

mean.est <- exp( mu.hat + sigma.hat^2/2 )

